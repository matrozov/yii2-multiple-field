!function(e){e.fn.multipleField=function(t){var r={$wrapper:null,defaultOptions:{id:null,template:[],nextKey:1,max:null,maxReachedMessage:"Maximum field reached!"},options:{},events:{afterInit:"afterInit",beforeAdd:"beforeAdd",afterAdd:"afterAdd",beforeRemove:"beforeRemove",afterRemove:"afterRemove",maxReached:"maxReached"},"public":{add:function(){r.add()},remove:function(e){var t=null;t=void 0!==e?r.$wrapper.find(".multiple-field-item:eq("+e+")"):r.$wrapper.find(".multiple-field-item").last(),r.remove(t)},count:function(){return r.count()},option:function(t,n){return n=n||null,null===n?(r.options.hasOwnProperty(t)||e.error('Option "'+t+"\" doesn't exist!"),r.options[t]):void(r.options[t]=n)}},init:function(t){r.options=e.extend(!0,{},r.defaultOptions,t||{}),r.$wrapper=e("#"+r.options.id),r.$wrapper.on("click",".js-item-add",function(e){return e.stopPropagation(),r.add(),!1}),r.$wrapper.on("click",".js-item-remove",function(t){t.stopPropagation();var n=e(this).closest(".multiple-field-item");return r.remove(n),!1}),r.$wrapper.data("multipleField",r);var n=e.Event(r.events.afterInit);r.$wrapper.trigger(n)},add:function(){if(null!==r.options.max&&r.count()>=r.options.max){var t=e.Event(r.events.maxReached);return r.$wrapper.trigger(t),void(t.result!==!1&&alert(r.options.maxReachedMessage))}var n=r.options.template.join(++r.options.nextKey),i=e(n),o=e.Event(r.events.beforeAdd);if(r.$wrapper.trigger(o,[i]),o.result!==!1){i.appendTo(r.$wrapper);var a=e.Event(r.events.afterAdd);r.$wrapper.trigger(a,[i])}},remove:function(t){var n=e.Event(r.events.beforeRemove);if(r.$wrapper.trigger(n,[t]),n.result!==!1){t.remove();var i=e.Event(r.events.afterRemove);r.$wrapper.trigger(i,[t])}},count:function(){return r.$wrapper.find(".multiple-field-item").length}};return r["public"][t]?(r=e(this).data("multipleField"),r["public"][t].apply(this,Array.prototype.slice.call(arguments,1))):"object"!=typeof t&&t?void e.error("Method "+t+" doesn't exists on jQuery.multipleField"):r.init.apply(this,arguments)}}(window.jQuery);